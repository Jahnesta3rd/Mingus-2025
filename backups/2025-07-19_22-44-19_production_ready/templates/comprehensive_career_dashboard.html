<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="touch_target_optimization.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Advancement Dashboard | Mingus</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Professional Color Palette - Growth & Trust Focused */
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary-color: #1e293b;
            --success-color: #059669;
            --success-light: #10b981;
            --warning-color: #d97706;
            --info-color: #0891b2;
            --light-bg: #f8fafc;
            --lighter-bg: #f1f5f9;
            --border-color: #e2e8f0;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            
            /* Design System */
            --border-radius: 16px;
            --border-radius-sm: 8px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --box-shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Gradients for Motivation */
            --gradient-primary: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
            --gradient-success: linear-gradient(135deg, #059669 0%, #10b981 100%);
            --gradient-growth: linear-gradient(135deg, #059669 0%, #34d399 100%);
            --gradient-trust: linear-gradient(135deg, #0891b2 0%, #22d3ee 100%);
            --gradient-warning: linear-gradient(135deg, #d97706 0%, #f59e0b 100%);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        /* Accessibility Improvements */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .main-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            margin: 1rem auto;
            max-width: 1400px;
            overflow: hidden;
            position: relative;
        }

        /* Header Section with Motivational Design */
        .header-section {
            background: var(--gradient-primary);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/><circle cx="10" cy="60" r="0.5" fill="rgba(255,255,255,0.1)"/><circle cx="90" cy="40" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .header-section h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .header-section .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
            font-weight: 400;
        }

        .progress-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
            position: relative;
            z-index: 1;
        }

        .progress-step {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: var(--transition);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .progress-step.active {
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary-color);
            transform: scale(1.1);
        }

        .progress-step.completed {
            background: var(--success-color);
            color: white;
        }

        .progress-connector {
            width: 80px;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }

        .progress-connector.active {
            background: rgba(255, 255, 255, 0.8);
        }

        /* Content Section */
        .content-section {
            padding: 2.5rem;
        }

        /* Dashboard Summary */
        .dashboard-summary {
            background: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin-bottom: 3rem;
            border-left: 5px solid var(--primary-color);
            position: relative;
        }

        .dashboard-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .summary-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--box-shadow);
            border: 2px solid transparent;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 500;
        }

        .opportunity-score {
            background: var(--gradient-success);
        }

        .opportunity-score .metric-value {
            background: var(--gradient-success);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .opportunity-score .metric-label {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Section Headers */
        .section-header {
            background: var(--lighter-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            border-left: 4px solid var(--primary-color);
            position: relative;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .section-header h2 {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 0.75rem;
            font-size: 1.5rem;
        }

        .section-header p {
            color: var(--text-secondary);
            margin-bottom: 0;
            font-size: 1rem;
        }

        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .comparison-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
            border-left: 4px solid var(--primary-color);
            transition: var(--transition);
            position: relative;
        }

        .comparison-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .comparison-card.opportunity-highlight {
            border-left-color: var(--success-color);
            background: linear-gradient(135deg, #f8fff9 0%, #ffffff 100%);
        }

        .comparison-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .comparison-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .gap-indicator {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .gap-positive {
            background: #dcfce7;
            color: #166534;
        }

        .gap-negative {
            background: #fef3c7;
            color: #92400e;
        }

        .gap-neutral {
            background: #e0f2fe;
            color: #0c4a6e;
        }

        /* Income Comparison Details */
        .income-comparison {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
        }

        .income-item {
            text-align: center;
            padding: 1rem;
            border-radius: var(--border-radius-sm);
            background: var(--lighter-bg);
        }

        .income-item.your-income {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 2px solid var(--primary-color);
        }

        .income-item.peer-income {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 2px solid var(--success-color);
        }

        .income-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .income-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .comparison-arrow {
            font-size: 1.5rem;
            color: var(--primary-color);
            text-align: center;
        }

        .gap-amount {
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .gap-amount.positive {
            color: var(--success-color);
        }

        .gap-amount.negative {
            color: var(--warning-color);
        }

        /* Percentile Visualization */
        .percentile-section {
            margin: 1.5rem 0;
        }

        .percentile-bar {
            background: var(--lighter-bg);
            border-radius: 20px;
            height: 12px;
            position: relative;
            overflow: hidden;
            margin: 1rem 0;
        }

        .percentile-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 20px;
            transition: width 1s ease-in-out;
            position: relative;
        }

        .percentile-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .percentile-marker {
            position: absolute;
            top: -4px;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transform: translateX(-50%);
            z-index: 2;
        }

        .percentile-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        /* Motivational Section */
        .motivational-section {
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin: 2.5rem 0;
            position: relative;
            overflow: hidden;
        }

        .motivational-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="motivation" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="30" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="30" cy="70" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="70" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23motivation)"/></svg>');
            opacity: 0.2;
        }

        .motivational-content {
            position: relative;
            z-index: 1;
        }

        .motivational-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .motivational-message {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 1.5rem;
        }

        /* Action Plan */
        .action-plan {
            background: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .action-plan h3 {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .action-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--success-color);
            transition: var(--transition);
        }

        .action-step:hover {
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .action-step-number {
            background: var(--gradient-success);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
            flex-shrink: 0;
            font-size: 1.1rem;
        }

        .action-step-content {
            flex: 1;
        }

        .action-step-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .action-step-description {
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
        }

        .action-step-impact {
            background: var(--lighter-bg);
            padding: 0.75rem;
            border-radius: var(--border-radius-sm);
            font-size: 0.9rem;
            color: var(--success-color);
            font-weight: 500;
        }

        /* Job Recommendations Integration */
        .job-recommendations {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 1px solid #bae6fd;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin: 2rem 0;
        }

        .job-recommendations h3 {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .job-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .job-preview {
            background: white;
            border-radius: var(--border-radius-sm);
            padding: 1.5rem;
            border-left: 4px solid var(--primary-color);
            transition: var(--transition);
        }

        .job-preview:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .job-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .job-company {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .job-salary {
            color: var(--success-color);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .job-match-score {
            display: inline-block;
            background: var(--gradient-success);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        /* Enhanced Button Styling */
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            border-radius: var(--border-radius-sm);
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            color: white;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
            color: white;
        }

        .btn-success {
            background: var(--gradient-success);
            border: none;
            border-radius: var(--border-radius-sm);
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            color: white;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            border-radius: var(--border-radius-sm);
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            color: var(--primary-color);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-container {
                margin: 0.5rem;
                border-radius: var(--border-radius-sm);
            }

            .header-section {
                padding: 2rem 1.5rem;
            }

            .content-section {
                padding: 1.5rem;
            }

            .summary-metrics {
                grid-template-columns: 1fr;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .income-comparison {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .comparison-arrow {
                transform: rotate(90deg);
            }

            .job-grid {
                grid-template-columns: 1fr;
            }

            .btn-primary, .btn-success, .btn-outline {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .progress-indicator {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .progress-connector {
                width: 40px;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            .metric-card, .comparison-card {
                border-width: 3px;
            }
            
            .btn-primary, .btn-success {
                border: 2px solid var(--primary-dark);
            }
        }

        /* Print Styles */
        @media print {
            .header-section {
                background: white !important;
                color: black !important;
            }
            
            .btn-primary, .btn-success, .btn-outline {
                background: white !important;
                color: black !important;
                border: 1px solid black !important;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header Section -->
        <div class="header-section">
            <h1>Career Advancement Dashboard</h1>
            <p class="subtitle">Your personalized roadmap to professional growth and financial success</p>
            
            <!-- Progress Indicator -->
            <div class="progress-indicator">
                <div class="progress-step completed">
                    <i class="fas fa-check"></i>
                </div>
                <div class="progress-connector active"></div>
                <div class="progress-step active">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="progress-connector"></div>
                <div class="progress-step">
                    <i class="fas fa-briefcase"></i>
                </div>
            </div>
        </div>

        <!-- Content Section -->
        <div class="content-section">
            <!-- Dashboard Summary -->
            <div class="dashboard-summary">
                <div class="summary-metrics">
                    <div class="metric-card">
                        <div class="metric-value">${{ "{:,}".format(current_salary) }}</div>
                        <div class="metric-label">Current Salary</div>
                    </div>
                    
                    <div class="metric-card opportunity-score">
                        <div class="metric-value">{{ opportunity_score }}%</div>
                        <div class="metric-label">Growth Opportunity</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">{{ percentile_rank }}%</div>
                        <div class="metric-label">Percentile Rank</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">${{ "{:,}".format(growth_potential) }}</div>
                        <div class="metric-label">Growth Potential</div>
                    </div>
                </div>
            </div>

            <!-- Income Analysis Section -->
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> Income Analysis</h2>
                <p>Comprehensive comparison of your income across different demographic factors and career opportunities</p>
            </div>

            <div class="comparison-grid">
                <!-- Overall Comparison -->
                <div class="comparison-card">
                    <div class="comparison-header">
                        <h3 class="comparison-title">Overall Comparison</h3>
                        <span class="gap-indicator {% if salary_gap > 0 %}gap-positive{% else %}gap-negative{% endif %}">
                            {% if salary_gap > 0 %}+${{ "{:,}".format(salary_gap) }}{% else %}-${{ "{:,}".format(abs(salary_gap)) }}{% endif %}
                        </span>
                    </div>
                    
                    <div class="income-comparison">
                        <div class="income-item your-income">
                            <div class="income-amount">${{ "{:,}".format(current_salary) }}</div>
                            <div class="income-label">Your Income</div>
                        </div>
                        <div class="comparison-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="income-item peer-income">
                            <div class="income-amount">${{ "{:,}".format(peer_average) }}</div>
                            <div class="income-label">Peer Average</div>
                        </div>
                    </div>
                    
                    <div class="gap-amount {% if salary_gap > 0 %}positive{% else %}negative{% endif %}">
                        {% if salary_gap > 0 %}
                            You're earning ${{ "{:,}".format(salary_gap) }} more than peers
                        {% else %}
                            Opportunity to earn ${{ "{:,}".format(abs(salary_gap)) }} more
                        {% endif %}
                    </div>
                </div>

                <!-- Education Impact -->
                <div class="comparison-card">
                    <div class="comparison-header">
                        <h3 class="comparison-title">Education Impact</h3>
                        <span class="gap-indicator {% if education_gap > 0 %}gap-positive{% else %}gap-negative{% endif %}">
                            {% if education_gap > 0 %}+${{ "{:,}".format(education_gap) }}{% else %}-${{ "{:,}".format(abs(education_gap)) }}{% endif %}
                        </span>
                    </div>
                    
                    <div class="income-comparison">
                        <div class="income-item your-income">
                            <div class="income-amount">${{ "{:,}".format(current_salary) }}</div>
                            <div class="income-label">Your Income</div>
                        </div>
                        <div class="comparison-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="income-item peer-income">
                            <div class="income-amount">${{ "{:,}".format(education_average) }}</div>
                            <div class="income-label">Education Level Avg</div>
                        </div>
                    </div>
                    
                    <div class="gap-amount {% if education_gap > 0 %}positive{% else %}negative{% endif %}">
                        {% if education_gap > 0 %}
                            Above average for your education level
                        {% else %}
                            Potential to earn ${{ "{:,}".format(abs(education_gap)) }} more
                        {% endif %}
                    </div>
                </div>

                <!-- Location Impact -->
                <div class="comparison-card">
                    <div class="comparison-header">
                        <h3 class="comparison-title">Location Impact</h3>
                        <span class="gap-indicator {% if location_gap > 0 %}gap-positive{% else %}gap-negative{% endif %}">
                            {% if location_gap > 0 %}+${{ "{:,}".format(location_gap) }}{% else %}-${{ "{:,}".format(abs(location_gap)) }}{% endif %}
                        </span>
                    </div>
                    
                    <div class="income-comparison">
                        <div class="income-item your-income">
                            <div class="income-amount">${{ "{:,}".format(current_salary) }}</div>
                            <div class="income-label">Your Income</div>
                        </div>
                        <div class="comparison-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="income-item peer-income">
                            <div class="income-amount">${{ "{:,}".format(location_average) }}</div>
                            <div class="income-label">Location Average</div>
                        </div>
                    </div>
                    
                    <div class="gap-amount {% if location_gap > 0 %}positive{% else %}negative{% endif %}">
                        {% if location_gap > 0 %}
                            Above average for your location
                        {% else %}
                            Location opportunity: ${{ "{:,}".format(abs(location_gap)) }}
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Percentile Visualization -->
            <div class="comparison-card">
                <h3 class="comparison-title">Your Percentile Position</h3>
                <div class="percentile-section">
                    <div class="percentile-bar">
                        <div class="percentile-fill" style="width: {{ percentile_rank }}%"></div>
                        <div class="percentile-marker" style="left: {{ percentile_rank }}%"></div>
                    </div>
                    <div class="percentile-labels">
                        <span>0%</span>
                        <span>25%</span>
                        <span>50%</span>
                        <span>75%</span>
                        <span>100%</span>
                    </div>
                </div>
                <p class="text-center text-muted">
                    You're in the top {{ 100 - percentile_rank }}% of earners in your demographic group
                </p>
            </div>

            <!-- Motivational Section -->
            <div class="motivational-section">
                <div class="motivational-content">
                    <h3 class="motivational-title">
                        <i class="fas fa-rocket"></i> Your Career Growth Journey
                    </h3>
                    <p class="motivational-message">
                        {% if salary_gap > 0 %}
                            Congratulations! You're already ahead of your peers. Let's explore how to maintain this advantage and continue growing.
                        {% else %}
                            You have significant opportunities for growth! With the right strategies, you can close the gap and exceed your peers' earnings.
                        {% endif %}
                    </p>
                    <div class="text-center">
                        <a href="{{ url_for('income_analysis.form') }}" class="btn btn-success me-3">
                            <i class="fas fa-refresh"></i>
                            Re-analyze Income
                        </a>
                        <a href="{{ url_for('job_recommendations.index') }}" class="btn btn-outline">
                            <i class="fas fa-search"></i>
                            Find Job Opportunities
                        </a>
                    </div>
                </div>
            </div>

            <!-- Action Plan -->
            <div class="action-plan">
                <h3><i class="fas fa-target"></i> Your Action Plan</h3>
                
                <div class="action-step">
                    <div class="action-step-number">1</div>
                    <div class="action-step-content">
                        <div class="action-step-title">Assess Your Skills Gap</div>
                        <div class="action-step-description">
                            Identify the skills that would increase your earning potential in your current role or industry.
                        </div>
                        <div class="action-step-impact">
                            <i class="fas fa-arrow-up"></i> Potential impact: $5,000 - $15,000 salary increase
                        </div>
                    </div>
                </div>

                <div class="action-step">
                    <div class="action-step-number">2</div>
                    <div class="action-step-content">
                        <div class="action-step-title">Explore Career Advancement</div>
                        <div class="action-step-description">
                            Research promotion opportunities within your company or consider lateral moves to higher-paying roles.
                        </div>
                        <div class="action-step-impact">
                            <i class="fas fa-arrow-up"></i> Potential impact: $10,000 - $25,000 salary increase
                        </div>
                    </div>
                </div>

                <div class="action-step">
                    <div class="action-step-number">3</div>
                    <div class="action-step-content">
                        <div class="action-step-title">Network Strategically</div>
                        <div class="action-step-description">
                            Build relationships with professionals in higher-paying roles and industries to discover new opportunities.
                        </div>
                        <div class="action-step-impact">
                            <i class="fas fa-arrow-up"></i> Potential impact: $15,000 - $30,000 salary increase
                        </div>
                    </div>
                </div>

                <div class="action-step">
                    <div class="action-step-number">4</div>
                    <div class="action-step-content">
                        <div class="action-step-title">Negotiate Your Worth</div>
                        <div class="action-step-description">
                            Use your market research to confidently negotiate better compensation in your current or new role.
                        </div>
                        <div class="action-step-impact">
                            <i class="fas fa-arrow-up"></i> Potential impact: $5,000 - $20,000 salary increase
                        </div>
                    </div>
                </div>
            </div>

            <!-- Job Recommendations Integration -->
            <div class="job-recommendations">
                <h3><i class="fas fa-briefcase"></i> Recommended Job Opportunities</h3>
                <p class="text-muted mb-3">Based on your income analysis, here are roles that could help you reach your earning potential:</p>
                
                <div class="job-grid">
                    <div class="job-preview">
                        <div class="job-title">Senior Software Engineer</div>
                        <div class="job-company">TechCorp Inc. • {{ location|title }}</div>
                        <div class="job-salary">$120,000 - $150,000</div>
                        <div class="job-match-score">95% Match</div>
                    </div>
                    
                    <div class="job-preview">
                        <div class="job-title">Product Manager</div>
                        <div class="job-company">InnovateTech • {{ location|title }}</div>
                        <div class="job-salary">$110,000 - $140,000</div>
                        <div class="job-match-score">92% Match</div>
                    </div>
                    
                    <div class="job-preview">
                        <div class="job-title">Business Development Director</div>
                        <div class="job-company">Growth Partners • {{ location|title }}</div>
                        <div class="job-salary">$130,000 - $160,000</div>
                        <div class="job-match-score">88% Match</div>
                    </div>
                </div>
                
                <div class="text-center mt-3">
                    <a href="{{ url_for('job_recommendations.index') }}" class="btn btn-primary">
                        <i class="fas fa-search"></i>
                        View All Job Matches
                    </a>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="text-center mt-4">
                <a href="{{ url_for('income_analysis.form') }}" class="btn btn-primary me-3">
                    <i class="fas fa-refresh"></i>
                    Re-analyze with Different Data
                </a>
                <a href="{{ url_for('main.dashboard') }}" class="btn btn-success">
                    <i class="fas fa-home"></i>
                    Return to Dashboard
                </a>
            </div>
        </div>
    </div>

    <script>
        // Animate percentile bar on page load
        document.addEventListener('DOMContentLoaded', function() {
            const percentileFill = document.querySelector('.percentile-fill');
            if (percentileFill) {
                setTimeout(() => {
                    percentileFill.style.width = '{{ percentile_rank }}%';
                }, 500);
            }

            // Animate metric cards on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe metric cards and comparison cards
            document.querySelectorAll('.metric-card, .comparison-card, .action-step').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });

            // Accessibility: Announce dashboard
            const dashboardAnnouncement = document.createElement('div');
            dashboardAnnouncement.setAttribute('aria-live', 'polite');
            dashboardAnnouncement.setAttribute('aria-atomic', 'true');
            dashboardAnnouncement.style.position = 'absolute';
            dashboardAnnouncement.style.left = '-10000px';
            dashboardAnnouncement.style.width = '1px';
            dashboardAnnouncement.style.height = '1px';
            dashboardAnnouncement.style.overflow = 'hidden';
            document.body.appendChild(dashboardAnnouncement);

            setTimeout(() => {
                dashboardAnnouncement.textContent = `Career advancement dashboard loaded. Your current salary is ${{ "{:,}".format(current_salary) }}. You have a {{ opportunity_score }}% growth opportunity.`;
            }, 1000);

            // Interactive progress indicator
            const progressSteps = document.querySelectorAll('.progress-step');
            progressSteps.forEach((step, index) => {
                step.addEventListener('click', function() {
                    // Update active step
                    progressSteps.forEach(s => s.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update connectors
                    const connectors = document.querySelectorAll('.progress-connector');
                    connectors.forEach((connector, connIndex) => {
                        if (connIndex < index) {
                            connector.classList.add('active');
                        } else {
                            connector.classList.remove('active');
                        }
                    });
                });
            });
        });
    </script>
</body>
</html> 