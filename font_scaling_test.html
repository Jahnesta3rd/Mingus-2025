<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="touch_target_optimization.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Scaling Test - Mingus Application</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="responsive_typography_system.css">
    <link rel="stylesheet" href="mobile_spacing_system.css">
    <style>
        :root {
            --primary-color: #8A31FF;
            --secondary-color: #667eea;
            --accent-color: #ff6b6b;
            --text-primary: #333;
            --text-secondary: #666;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --border-color: #e9ecef;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            margin: 0;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .test-header {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
        }

        .test-title {
            font-size: var(--text-4xl);
            font-weight: var(--font-weight-bold);
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .test-subtitle {
            font-size: var(--text-lg);
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .zoom-controls {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .zoom-title {
            font-weight: var(--font-weight-semibold);
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .zoom-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .zoom-btn {
            padding: 8px 16px;
            border: 2px solid var(--primary-color);
            border-radius: 6px;
            background: white;
            color: var(--primary-color);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .zoom-btn:hover,
        .zoom-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .test-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        }

        .test-card-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            font-size: var(--text-xl);
            font-weight: var(--font-weight-semibold);
        }

        .test-card-content {
            padding: 25px;
        }

        .font-test {
            margin-bottom: 25px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            background: var(--bg-secondary);
        }

        .test-label {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: var(--font-weight-medium);
        }

        .test-text {
            margin-bottom: 10px;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .device-simulator {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .simulator-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .device-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .device-btn {
            padding: 12px 24px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background: white;
            color: var(--primary-color);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .device-btn:hover,
        .device-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .device-frame {
            background: #333;
            border-radius: 20px;
            padding: 20px;
            display: flex;
            justify-content: center;
            margin: 0 auto;
            max-width: 400px;
        }

        .device-screen {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            width: 100%;
            max-width: 320px;
            transition: all 0.3s ease;
        }

        .device-screen.iphone-se {
            max-width: 320px;
        }

        .device-screen.iphone-14 {
            max-width: 375px;
        }

        .device-screen.samsung-s21 {
            max-width: 360px;
        }

        .device-screen.ipad-mini {
            max-width: 768px;
        }

        .screen-content {
            padding: 20px;
            min-height: 600px;
        }

        .overflow-test {
            background: #ffebee;
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .overflow-test.overflow-detected {
            background: #e8f5e8;
            border-color: #4caf50;
        }

        .metrics-panel {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .metrics-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .metric-card {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .metric-number {
            font-size: var(--text-3xl);
            font-weight: var(--font-weight-bold);
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: var(--text-base);
            color: var(--text-secondary);
            font-weight: var(--font-weight-medium);
        }

        .metric-description {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* Zoom level styles */
        .zoom-100 { transform: scale(1); }
        .zoom-125 { transform: scale(1.25); }
        .zoom-150 { transform: scale(1.5); }
        .zoom-200 { transform: scale(2); }

        /* Responsive adjustments for zoom */
        @media (max-width: 768px) {
            .test-container {
                padding: 10px;
            }
            
            .device-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .device-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1 class="test-title">üîç Font Scaling Analysis Test</h1>
            <p class="test-subtitle">Comprehensive testing of font sizing, scaling, and zoom compatibility</p>
            
            <div class="zoom-controls">
                <div class="zoom-title">üîç Test Zoom Levels</div>
                <div class="zoom-buttons">
                    <button class="zoom-btn active btn-cta btn-primary" onclick="setZoom('100')">100% (Normal)</button>
                    <button class="zoom-btn btn-cta btn-primary" onclick="setZoom('125')">125% (Large)</button>
                    <button class="zoom-btn btn-cta btn-primary" onclick="setZoom('150')">150% (Extra Large)</button>
                    <button class="zoom-btn btn-cta btn-primary" onclick="setZoom('200')">200% (Maximum)</button>
                </div>
            </div>
        </div>

        <div class="test-grid">
            <div class="test-card">
                <div class="test-card-header">Base Font Size Analysis</div>
                <div class="test-card-content">
                    <div class="font-test">
                        <div class="test-label">Body Text (16px minimum)</div>
                        <div class="test-text body-text">
                            This is standard body text that should be at least 16px on mobile devices. 
                            It should be easily readable without zooming and scale properly with device settings.
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Small Text (14px - Below Minimum)</div>
                        <div class="test-text" style="font-size: 14px;">
                            This text is 14px, which is below the mobile minimum of 16px. 
                            It may be difficult to read on mobile devices without zooming.
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Very Small Text (12px - Critical)</div>
                        <div class="test-text" style="font-size: 12px;">
                            This text is 12px, which is critically small for mobile devices. 
                            It will be very difficult to read without zooming.
                        </div>
                    </div>
                </div>
            </div>

            <div class="test-card">
                <div class="test-card-header">Heading Scale Analysis</div>
                <div class="test-card-content">
                    <div class="font-test">
                        <div class="test-label">H1 - Hero Headline</div>
                        <div class="test-text hero-headline">
                            Will AI Replace Your Job?
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">H2 - Section Title</div>
                        <div class="test-text section-title">
                            Financial Calculators
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">H3 - Card Title</div>
                        <div class="test-text card-title">
                            AI Job Risk Calculator
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">H4 - Subtitle</div>
                        <div class="test-text section-subtitle">
                            Professional Financial Tools
                        </div>
                    </div>
                </div>
            </div>

            <div class="test-card">
                <div class="test-card-header">Interactive Elements</div>
                <div class="test-card-content">
                    <div class="font-test">
                        <div class="test-label">Button Text (Large)</div>
                        <div class="test-text btn-text-large">
                            Get Started Now
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Button Text (Standard)</div>
                        <div class="test-text btn-text">
                            Learn More
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Navigation Link</div>
                        <div class="test-text nav-link">
                            Home
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Form Label</div>
                        <div class="test-text form-label">
                            Email Address
                        </div>
                    </div>
                </div>
            </div>

            <div class="test-card">
                <div class="test-card-header">Text Overflow Testing</div>
                <div class="test-card-content">
                    <div class="font-test">
                        <div class="test-label">Long Text Without Overflow Protection</div>
                        <div class="test-text" id="overflow-test-1">
                            This is a very long text that might overflow its container and cause layout issues when the font size is increased or when viewed on different screen sizes. It should be handled properly with word-wrap and overflow-wrap properties.
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Long Text With Overflow Protection</div>
                        <div class="test-text overflow-test" id="overflow-test-2">
                            This is a very long text that might overflow its container and cause layout issues when the font size is increased or when viewed on different screen sizes. It should be handled properly with word-wrap and overflow-wrap properties.
                        </div>
                    </div>
                    
                    <div class="font-test">
                        <div class="test-label">Fixed Width Container Test</div>
                        <div class="test-text" style="width: 200px; border: 1px solid #ccc; padding: 10px;" id="overflow-test-3">
                            This text is in a fixed-width container and should wrap properly without overflowing.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="device-simulator">
            <h2 class="simulator-title">üì± Device Font Scaling Simulator</h2>
            
            <div class="device-buttons">
                <button class="device-btn active btn-cta btn-primary" onclick="switchDevice('iphone-se')">iPhone SE (320px)</button>
                <button class="device-btn btn-cta btn-primary" onclick="switchDevice('iphone-14')">iPhone 14 (375px)</button>
                <button class="device-btn btn-cta btn-primary" onclick="switchDevice('samsung-s21')">Samsung S21 (360px)</button>
                <button class="device-btn btn-cta btn-primary" onclick="switchDevice('ipad-mini')">iPad Mini (768px)</button>
            </div>

            <div class="device-frame">
                <div class="device-screen iphone-se" id="device-screen">
                    <div class="screen-content">
                        <h1 class="hero-headline">Font Scaling Test</h1>
                        <p class="hero-subtext">Testing font sizes and scaling across devices</p>
                        
                        <div class="section">
                            <h2 class="section-title">Heading Analysis</h2>
                            <div class="card">
                                <h3 class="card-title">Card Title</h3>
                                <p class="card-subtitle">This text should be readable at all zoom levels</p>
                            </div>
                        </div>
                        
                        <div class="btn-stack">
                            <button class="btn btn-cta btn-primary">Primary Action</button>
                            <button class="btn btn-cta btn-primary">Secondary Action</button>
                        </div>
                        
                        <div class="overflow-test" id="device-overflow-test">
                            <p>This is a test of text overflow handling in the device simulator. The text should wrap properly and not cause layout issues.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="metrics-panel">
            <h2 class="metrics-title">üìä Font Scaling Metrics</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-number" id="base-font-size">16px</div>
                    <div class="metric-label">Base Font Size</div>
                    <div class="metric-description">Current body text size</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-number" id="zoom-level">100%</div>
                    <div class="metric-label">Current Zoom Level</div>
                    <div class="metric-description">Browser zoom setting</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-number" id="effective-font-size">16px</div>
                    <div class="metric-label">Effective Font Size</div>
                    <div class="metric-description">Actual rendered size</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-number" id="overflow-count">0</div>
                    <div class="metric-label">Overflow Issues</div>
                    <div class="metric-description">Text overflow detected</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-number" id="readability-score">85</div>
                    <div class="metric-label">Readability Score</div>
                    <div class="metric-description">Based on font sizes</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-number" id="accessibility-score">90</div>
                    <div class="metric-label">Accessibility Score</div>
                    <div class="metric-description">WCAG compliance</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentZoom = 100;
        let currentDevice = 'iphone-se';

        function setZoom(zoomLevel) {
            // Remove active class from all buttons
            document.querySelectorAll('.zoom-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update zoom level
            currentZoom = parseInt(zoomLevel);
            
            // Apply zoom to body
            document.body.className = `zoom-${zoomLevel}`;
            
            // Update metrics
            updateMetrics();
            
            // Check for overflow issues
            checkOverflow();
            
            console.log(`Zoom level set to ${zoomLevel}%`);
        }

        function switchDevice(device) {
            // Remove active class from all buttons
            document.querySelectorAll('.device-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update device screen
            const deviceScreen = document.getElementById('device-screen');
            deviceScreen.className = `device-screen ${device}`;
            
            currentDevice = device;
            
            // Update metrics
            updateMetrics();
            
            console.log(`Switched to ${device} device simulation`);
        }

        function updateMetrics() {
            // Update zoom level display
            document.getElementById('zoom-level').textContent = `${currentZoom}%`;
            
            // Calculate effective font size
            const baseFontSize = 16;
            const effectiveFontSize = (baseFontSize * currentZoom) / 100;
            document.getElementById('effective-font-size').textContent = `${effectiveFontSize.toFixed(1)}px`;
            
            // Update readability score based on zoom level
            let readabilityScore = 85;
            if (currentZoom >= 125) readabilityScore = 95;
            if (currentZoom >= 150) readabilityScore = 100;
            if (currentZoom < 100) readabilityScore = 70;
            
            document.getElementById('readability-score').textContent = readabilityScore;
            
            // Update accessibility score
            let accessibilityScore = 90;
            if (effectiveFontSize >= 16) accessibilityScore = 95;
            if (effectiveFontSize >= 18) accessibilityScore = 100;
            if (effectiveFontSize < 14) accessibilityScore = 60;
            
            document.getElementById('accessibility-score').textContent = accessibilityScore;
        }

        function checkOverflow() {
            let overflowCount = 0;
            
            // Check overflow test elements
            const overflowTests = [
                'overflow-test-1',
                'overflow-test-2', 
                'overflow-test-3',
                'device-overflow-test'
            ];
            
            overflowTests.forEach(testId => {
                const element = document.getElementById(testId);
                if (element) {
                    const isOverflowing = element.scrollWidth > element.clientWidth || 
                                        element.scrollHeight > element.clientHeight;
                    
                    if (isOverflowing) {
                        overflowCount++;
                        element.classList.add('overflow-detected');
                    } else {
                        element.classList.remove('overflow-detected');
                    }
                }
            });
            
            // Update overflow count
            document.getElementById('overflow-count').textContent = overflowCount;
            
            console.log(`Overflow check complete: ${overflowCount} issues found`);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Font scaling test page loaded');
            
            // Initial metrics update
            updateMetrics();
            
            // Initial overflow check
            checkOverflow();
            
            // Set up periodic overflow checking
            setInterval(checkOverflow, 2000);
            
            // Add some interactive features
            const testCards = document.querySelectorAll('.test-card');
            testCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-5px)';
                    card.style.boxShadow = '0 12px 40px rgba(0,0,0,0.2)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0)';
                    card.style.boxShadow = '0 8px 32px rgba(0,0,0,0.15)';
                });
            });
        });
    </script>
</body>
</html>
